#!/bin/sh -e

# Debian libc-client__VER__ preinst
# by Jonas Smedegaard <dr@jones.dk>
# Inspired by Debian postfix preinst by LaMont Jones <lamont@debian.org>
# and Colin Walters <levanti@verbum.org>

. /usr/share/debconf/confmodule

maildir_warning() {
#	db_fset libc-client/no_maildir_warning seen false
	db_input high libc-client/no_maildir_warning || true
	db_go || true
	db_get libc-client/no_maildir_warning
	db_set libc-client/no_maildir_warning true
	if [ "$RET" = "false" ]; then
	    echo "aborting libc-client__VER__ install"
	    exit 1
	fi
}

case "$1" in
    install|upgrade)
	maildir_warning
	;;

    abort-upgrade)
	;;

    *)
	echo "preinst called with unknown argument \`$1'" >&2
	exit 1
	;;
esac

#DEBHELPER#

exit 0
