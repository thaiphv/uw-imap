diff -ruN imap-2002a.DEV.SNAP-0212051126.orig/src/dmail/Makefile imap-2002a.DEV.SNAP-0212051126/src/dmail/Makefile
--- imap-2002a.DEV.SNAP-0212051126.orig/src/dmail/Makefile	2002-11-18 19:43:31.000000000 -0500
+++ imap-2002a.DEV.SNAP-0212051126/src/dmail/Makefile	2002-12-13 09:31:44.000000000 -0500
@@ -18,7 +18,7 @@
 
 
 C = ../c-client
-CCLIENTLIB = $C/c-client.a
+CCLIENTLIB = $C/`cat $C/ARCHIVENAME`
 SHELL = /bin/sh
 
 # Get local definitions from c-client directory
@@ -27,14 +27,11 @@
 CFLAGS = -I$C `cat $C/CFLAGS`
 LDFLAGS = $(CCLIENTLIB) `cat $C/LDFLAGS`
 
-dmail: $(CCLIENTLIB) dmail.o
+dmail: dmail.o
 	$(CC) $(CFLAGS) -o dmail dmail.o $(LDFLAGS)
 
 dmail.o: $C/mail.h $C/misc.h $C/osdep.h
 
-$(CCLIENTLIB):
-	cd $C;make
-
 clean:
 	rm -f *.o dmail
 
diff -ruN imap-2002a.DEV.SNAP-0212051126.orig/src/mailutil/Makefile imap-2002a.DEV.SNAP-0212051126/src/mailutil/Makefile
--- imap-2002a.DEV.SNAP-0212051126.orig/src/mailutil/Makefile	2002-11-18 19:41:46.000000000 -0500
+++ imap-2002a.DEV.SNAP-0212051126/src/mailutil/Makefile	2002-12-13 09:32:24.000000000 -0500
@@ -19,7 +19,7 @@
 
 
 C = ../c-client
-CCLIENTLIB = $C/c-client.a
+CCLIENTLIB = $C/`cat $C/ARCHIVENAME`
 SHELL = /bin/sh
 
 # Get local definitions from c-client directory
@@ -28,14 +28,11 @@
 CFLAGS = -I$C `cat $C/CFLAGS`
 LDFLAGS = $(CCLIENTLIB) `cat $C/LDFLAGS`
 
-mailutil: $(CCLIENTLIB) mailutil.o
+mailutil: mailutil.o
 	$(CC) $(CFLAGS) -o mailutil mailutil.o $(LDFLAGS)
 
 mailutil.o: $C/mail.h $C/misc.h $C/osdep.h
 
-$(CCLIENTLIB):
-	cd $C;make
-
 clean:
 	rm -f *.o mailutil
 
diff -ruN imap-2002a.DEV.SNAP-0212051126.orig/src/mtest/Makefile imap-2002a.DEV.SNAP-0212051126/src/mtest/Makefile
--- imap-2002a.DEV.SNAP-0212051126.orig/src/mtest/Makefile	2000-10-24 19:55:39.000000000 -0400
+++ imap-2002a.DEV.SNAP-0212051126/src/mtest/Makefile	2002-12-13 09:27:49.000000000 -0500
@@ -19,7 +19,7 @@
 
 
 C = ../c-client
-CCLIENTLIB = $C/c-client.a
+CCLIENTLIB = $C/`cat $C/ARCHIVENAME`
 SHELL = /bin/sh
 
 # Get local definitions from c-client directory
@@ -30,13 +30,10 @@
 
 all:	mtest
 
-mtest: $(CCLIENTLIB) mtest.o
+mtest: mtest.o
 	$(CC) $(CFLAGS) -o mtest mtest.o $(LDFLAGS)
 
-mtest.o: $C/mail.h $C/misc.h $C/osdep.h $C/rfc822.h $C/smtp.h $C/nntp.h
-
-$(CCLIENTLIB):
-	cd $C;make
+mtest.o:
 
 clean:
 	rm -f *.o mtest || true
diff -ruN imap-2002a.DEV.SNAP-0212051126.orig/src/tmail/Makefile imap-2002a.DEV.SNAP-0212051126/src/tmail/Makefile
--- imap-2002a.DEV.SNAP-0212051126.orig/src/tmail/Makefile	2002-11-18 19:45:14.000000000 -0500
+++ imap-2002a.DEV.SNAP-0212051126/src/tmail/Makefile	2002-12-13 09:32:07.000000000 -0500
@@ -18,7 +18,7 @@
 
 
 C = ../c-client
-CCLIENTLIB = $C/c-client.a
+CCLIENTLIB = $C/`cat $C/ARCHIVENAME`
 SHELL = /bin/sh
 
 # Get local definitions from c-client directory
@@ -27,14 +27,11 @@
 CFLAGS = -I$C `cat $C/CFLAGS`
 LDFLAGS = $(CCLIENTLIB) `cat $C/LDFLAGS`
 
-tmail: $(CCLIENTLIB) tmail.o
+tmail: tmail.o
 	$(CC) $(CFLAGS) -o tmail tmail.o $(LDFLAGS)
 
 tmail.o: $C/mail.h $C/misc.h $C/osdep.h
 
-$(CCLIENTLIB):
-	cd $C;make
-
 clean:
 	rm -f *.o tmail
 
